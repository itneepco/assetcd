<mat-toolbar color="primary" class="mat-elevation-z4">
  <span style="overflow:hidden">Add / Update Project</span>
  <span >&nbsp;&nbsp;</span>
  <span class="spacer"></span>
  <button mat-raised-button color="primary" (click)='newProj()'>New Project</button>
</mat-toolbar>


<mat-card>

  <div *ngIf="mode == 'list'"> <!-- proj list -->
    <h3> Projects </h3>
    <table class="mat-table">
        <thead>
          <tr class="mat-header-row">
            <th class="mat-header-cell"> PROJ CODE </th>
            <th class="mat-header-cell"> PROJ DESC </th>
            <th class="mat-header-cell"> TITLE </th>
            <th class="mat-header-cell"> PROJ LOC </th>
            <th class="mat-header-cell"> Status </th>
          </tr>
        </thead>
        <tbody>
          <tr class="mat-row" *ngFor="let proj of projs">
            <td class="mat-cell"><a href="javascript:void(0)" (click)="editProj(proj)"> {{proj.projCode}} </a></td>
            <td class="mat-cell"><a href="javascript:void(0)" (click)="editProj(proj)"> {{proj.projDesc}} </a></td>
            <td class="mat-cell"><a href="javascript:void(0)" (click)="editProj(proj)"> {{proj.title}} </a></td>
            <td class="mat-cell"><a href="javascript:void(0)" (click)="editProj(proj)"> {{proj.projLoc}} </a></td>
            <td class="mat-cell"><a href="javascript:void(0)" (click)="editProj(proj)"> {{proj.status}} </a></td>
          </tr>
        </tbody>
      </table>
  </div>



  <div *ngIf="mode == 'new'"> <!-- new proj -->
    <h3> New Project </h3>
    <p *ngIf="error"> {{error}} </p>
    <form #newProjForm="ngForm" >
      <mat-form-field >
        <input matInput type="text" placeholder="Proj Code" [(ngModel)]="projCode" name="projCode" #nprojCode="ngModel" required maxlength="4" >
      </mat-form-field>
      <br>
      <mat-form-field >
        <input matInput type="text" placeholder="Proj Desc" [(ngModel)]="projDesc" name="projDesc"  required maxlength="40">
      </mat-form-field>
      <br>
      <mat-form-field >
        <input matInput type="text" placeholder="Title" [(ngModel)]="title" name="title"  maxlength="40">
      </mat-form-field>
      <br>
      <mat-form-field >
        <input matInput type="text" placeholder="Proj Loc" [(ngModel)]="projLoc" name="projLoc"  maxlength="100">
      </mat-form-field>
      <br>
      <mat-form-field >
        <mat-select placeholder="Status" [(value)]="status" name="status" >
          <mat-option value="0">0</mat-option>
          <mat-option value="1">1</mat-option>
        </mat-select>
      </mat-form-field>
      <br>
      <button mat-raised-button (click)='cancel()'>Cancel</button>
      <button mat-raised-button color="primary" (click)='saveNew()' disabled="{{!newProjForm.valid}}">Save</button>
    </form>
  </div>



  <div *ngIf="mode == 'edit'"> <!-- edit proj -->
    <h3> Edit Project </h3>
    <p *ngIf="error"> {{error}} </p>
    <form #editProjForm="ngForm" >
      <mat-form-field >
        <input matInput type="text" placeholder="Proj Code" [(ngModel)]="proj.projCode" name="projCode" #nprojCode="ngModel" required maxlength="4" >
      </mat-form-field>
      <br>
      <mat-form-field >
        <input matInput type="text" placeholder="Proj Desc" [(ngModel)]="proj.projDesc" name="projDesc"  required maxlength="40">
      </mat-form-field>
      <br>
      <mat-form-field >
        <input matInput type="text" placeholder="Title" [(ngModel)]="proj.title" name="title"  maxlength="40">
      </mat-form-field>
      <br>
      <mat-form-field >
        <input matInput type="text" placeholder="Proj Loc" [(ngModel)]="proj.projLoc" name="projLoc"  maxlength="100">
      </mat-form-field>
      <br>
      <mat-form-field >
        <mat-select placeholder="Status" [(value)]="proj.status" name="status" >
          <mat-option value="0">0</mat-option>
          <mat-option value="1">1</mat-option>
        </mat-select>
      </mat-form-field>
      <br>
      <button mat-raised-button (click)='cancel()'>Cancel</button>
      <button mat-raised-button color="primary" (click)='update()' disabled="{{!editProjForm.valid}}">Save</button>
    </form>
  </div>

</mat-card>
